package dev.sm1le.avaranusSMP.modules.server.prohibition.exploit;

import dev.sm1le.avaranusSMP.modules.Module;
import dev.sm1le.avaranusSMP.modules.server.prohibition.exploit.listener.*;
import dev.sm1le.avaranusSMP.modules.server.prohibition.exploit.service.ExploitService;
import org.bukkit.Bukkit;
import org.bukkit.plugin.java.JavaPlugin;

public class ExploitModule implements Module {

    private final JavaPlugin plugin;
    private final ExploitService service;

    public ExploitModule(JavaPlugin plugin) {
        this.plugin = plugin;
        this.service = new ExploitService(plugin);
    }

    @Override
    public void enable() {
        Bukkit.getPluginManager().registerEvents(new DuplicationListener(service), plugin);
        Bukkit.getPluginManager().registerEvents(new InventoryExploitListener(service), plugin);
        Bukkit.getPluginManager().registerEvents(new MovementExploitListener(service), plugin);
        Bukkit.getPluginManager().registerEvents(new PacketExploitListener(service), plugin);
        Bukkit.getPluginManager().registerEvents(new RedstoneListener(service), plugin);
        Bukkit.getPluginManager().registerEvents(new WorldExploitListener(service), plugin);

        plugin.getLogger().info("[Exploit] Модуль защиты от эксплойтов включён");
    }

    @Override
    public void disable() {
        plugin.getLogger().info("[Exploit] Модуль защиты от эксплойтов выключен");
    }
}